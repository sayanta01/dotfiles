#!/bin/bash

# yes | sudo apt full-upgrade
cp -r ~/dotfiles/{.bashrc,.bash_profile,.profile,.zprofile,.xprofile,.xinitrc,.imwheelrc,.vimrc} ~/
mkdir "$HOME/.local/bin"
cp -r ~/dotfiles/.local/bin/* ~/.local/bin && cp -r ~/dotfiles/.local/share/* ~/.local/share && cp -r ~/dotfiles/.config/. ~/.config
chmod -R +x ~/.config/bspwm/ ~/.config/polybar/launch.sh ~/.config/sxhkd/sxhkd.sh ~/.local/bin/ ~/.config/sxiv/ ~/.config/lf/{scope,cleaner}
mkdir ~/{desk,dox,dl,music,templates,pub,pix,vids,code,imp}

# Maple-font
mver="v6.4"
wget https://github.com/subframe7536/Maple-font/releases/download/$mver/MapleMono-NF.zip
yes | sudo unzip MapleMono-NF.zip -d /usr/share/fonts/TTF
# Nerd-fonts
latest_nf="v3.0.2"
wget https://github.com/ryanoasis/nerd-fonts/releases/download/$latest_nf/CascadiaCode.zip
yes | sudo unzip JetBrainsMono.zip -d /usr/share/fonts/TTF
wget https://github.com/ryanoasis/nerd-fonts/releases/download/$latest_nf/JetBrainsMono.zip
yes | sudo unzip JetBrainsMono.zip -d /usr/share/fonts/TTF
wget https://github.com/ryanoasis/nerd-fonts/releases/download/$latest_nf/Cousine.zip
yes | sudo unzip JetBrainsMono.zip -d /usr/share/fonts/TTF
wget https://github.com/ryanoasis/nerd-fonts/releases/download/$latest_nf/FiraCode.zip
yes | sudo unzip JetBrainsMono.zip -d /usr/share/fonts/TTF
fc-cache -f -v
rm -rf MapleMono-NF.zip CascadiaCode.zip JetBrainsMono.zip Cousine.zip FiraCode.zip

# Suckless
sudo apt install -y libxft-dev librust-harfbuzz-rs-dev libxinerama-dev libx11-xcb-dev libxcb-res0-dev
git clone https://github.com/LukeSmithxyz/st.git ~/dl/st
cd ~/dl/st && sudo make clean install
git clone https://github.com/LukeSmithxyz/dmenu.git ~/dl/dmenu
cd ~/dl/dmenu && sudo make clean install

# My nvim config
git clone https://github.com/sayanta01/nvim ~/.config/nvim
# Tpm
git clone https://github.com/tmux-plugins/tpm ~/.config/tmux/plugins/tpm

# Themes
git clone https://github.com/sayanta01/Papirus-FlatMix ~/.local/share/icons/Papirus-FlatMix
sudo cp -r ~/.local/share/icons/Papirus-FlatMix /usr/share/icons
sudo cp -r ~/.local/share/themes/* /usr/share/themes
sudo cp -r ~/.local/share/fonts /usr/share/fonts/local-fonts

sudo apt install -y apt-transport-https tmux fonts-terminus \
	fonts-noto fonts-noto-color-emoji fonts-noto-cjk \
	bspwm polybar rofi kitty dunst lxappearance maim playerctl \
	ffmpeg mpv sxiv exa fzf nala ripgrep fd-find tldr duf zoxide \
	lf zathura htop qt5-style-kvantum meld \
	imwheel xclip xdo xwallpaper gpg cowsay xcape betterlockscreen \
	exiftool aria2 wmname wmctrl neofetch \
	transmission-daemon trash-cli docker.io iftop aptitude synaptic
# ncdu translate-shell stacer
# sudo systemctl disable docker.socket

yes | curl -sS https://starship.rs/install.sh | sh

# wget 'https://code.visualstudio.com/sha/download?build=stable&os=linux-deb-x64' -O ~/dl/vscode.deb
# aria2c -x9 -o PacketTracer.deb -d ~/dl https://archive.org/download/packet-tracer-800-build-212-mac-notarized/PacketTracer_800_amd64_build212_final.deb
# cd ~/dl && chmod +x PacketTracer.deb && sudo dpkg -i PacketTracer.deb

# Console Font
# sudo dpkg-reconfigure console-setup

# Fix Kali
# sudo systemd-analyze  ( critical-chain )
# sudo su root -c "echo deb https://mirrors.ocf.berkeley.edu/kali kali-rolling main contrib non-free >> /etc/apt/sources.list"
# sudo ln -sf /usr/share/zoneinfo/Asia/Kolkata /etc/localtime

# cp ~/.config/zsh/.zshrc ~/
mv ~/.config/autostart/.hidden/xresources.desktop ~/.config/autostart

# sudo apt remove --purge xfce4-clipman catfish onboard xterm cherrytree plymouth qterminal kali-hidpi-mode
