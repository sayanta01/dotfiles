- Disable Secure Boot

## Connect Wifi ##
iwctl
device list
station <adpater-name> get-networks
station <adpater-name> connect <network-name>

## Change TTY Font ##
pacman -Sy terminus-font
setfont /usr/share/kbd/consolefonts/ter-120b.psf.gz

## Partition Disk ##
cfdisk /dev/sda
sda1 boot 1G # Type EFI system
sda2 root    # Rest of the space
write & quit

## Formatting ##
mkfs.ext4 /dev/sda2
mkfs.fat -F 32 /dev/sda1

## Mounting ##
mount /dev/sda2 /mnt
mount --mkdir /dev/sda1 /mnt/boot/efi

## Install Base-System ##
basestrap -i /mnt base base-devel linux-lts linux-firmware neovim runit elogind-runit [ Artix ]
fstabgen -U /mnt >> /mnt/etc/fstab [ Artix ]

pacstrap -K /mnt base base-devel linux-lts linux-firmware neovim [ Arch ]
genfstab -U /mnt >> /mnt/etc/fstab [ Arch ]

## Chroot ##
artix-chroot /mnt [ Artix ]
arch-chroot /mnt [ Arch ]

## Set Time ##
ln -s /usr/share/zoneinfo/Asia/Kolkata /etc/localtime
hwclock --systohc
timedatectl set-ntp true [ Arch ]

## Set Localization ##
nvim /etc/locale.gen  # uncomment en_US.UTF-8 UTF-8
locale-gen
echo LANG=en_US.UTF-8 > /etc/locale.conf
export LC_COLLATE="C" [ Artix ]

## Network Configuration ##
echo myhostname > /etc/hostname
nvim /etc/hosts
127.0.0.1    localhost
::1          localhost
127.0.1.1    myhostname.localdomain myhostname

# nvim /etc/pacman.conf  # uncomment ParallelDownloads
# nvim /etc/makepkg.conf # uncomment MAKEFLAGS - set to your CPU thread count (faster compilation)

pacman -S xorg networkmanager-runit [ Artix ]
ln -s /etc/runit/sv/NetworkManager /run/runit/service [ Artix - After Reboot ]

pacman -S xorg networkmanager [ Arch ]
systemctl enable NetworkManager [ Arch ]

## install Bootloader ##
pacman -S grub os-prober efibootmgr
grub-install --target=x86_64-efi --efi-directory=/boot/efi --bootloader-id=grub
grub-mkconfig -o /boot/grub/grub.cfg

passwd # Set the Root Password

## Add user ##
useradd -m -G wheel "user"
passwd "user"
EDITOR=nvim visudo # uncomment %wheel ALL=(ALL:ALL) ALL
exit & reboot

# https://wiki.artixlinux.org/Main/Repositories#Arch_repositories
sudo pacman -S artix-archlinux-support [ Artix ]
sudo pacman-key --populate archlinux
sudo pacman -Syu

dbus-uuidgen | sudo tee /var/lib/dbus/machine-id [ Artix ]
