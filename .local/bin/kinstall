#!/bin/bash

#sudo ln -sf /usr/share/zoneinfo/Asia/Kolkata /etc/localtime

yes '
' | sudo apt full-upgrade

cp -r ~/dotfiles/{.zshrc,.zprofile,.xinitrc,.xprofile,.imwheelrc} ~/
cp -r ~/dotfiles/.local/bin/* ~/.local/bin && cp -r ~/dotfiles/.local/share/* ~/.local/share
cp -r ~/dotfiles/.config/. ~/.config
chmod +x ~/.config/bspwm/bspwmrc ~/.config/polybar/launch.sh ~/.local/bin/* ~/.config/sxiv/exec/*

mkdir ~/{desk,dox,dl,music,templates,pub,pix,vids,code,imp} 

sudo apt install -y libxft-dev libharfbuzz-bin librust-harfbuzz-rs-dev libxinerama-dev 
git clone https://github.com/LukeSmithxyz/st.git ~/dl/st
cd ~/dl/st && sudo make clean install

git clone https://github.com/LukeSmithxyz/dmenu.git ~/dl/dmenu
cd ~/dl/dmenu && sudo make clean install

git clone https://github.com/sayanta01/PapirusFlatMix ~/.local/share/icons/PapirusFlatMix
sudo cp -r ~/.local/share/icons/PapirusFlatMix/cursors /usr/share/icons/Adwaita 
sudo cp -r ~/.local/share/icons/PapirusFlatMix /usr/share/icons
sudo cp -r ~/.local/share/themes/* /usr/share/themes

#curl https://download.spotify.com/debian/pubkey_5E3C45D7B312C643.gpg | sudo apt-key add - 
#echo "deb http://repository.spotify.com stable non-free" | sudo tee /etc/apt/sources.list.d/spotify.list

sudo apt update
sudo apt install -y fonts-jetbrains-mono fonts-terminus fonts-roboto \
bspwm polybar rofi kitty dunst lxappearance maim playerctl \
cargo ffmpeg mpv sxiv exa fzf nala ripgrep fd-find tldr duf \
lf zathura htop qt5-style-kvantum meld \
imwheel xclip xdo xwallpaper gpg cowsay xcape betterlockscreen \
exiftool preload aria2 wmname wmctrl neofetch \
transmission-cli transmission-daemon trash-cli yt-dlp \
mpd ncmpcpp cava docker.io inkscape
#bpytop ncdu fortune apt-transport-https translate-shell font-viewer aptitude \
#nvidia-driver nvidia-cuda-toolkit nvtop \
#android-tools-fastboot scrcpy android-tools-adb \
#spotify-client obs-studio audacity gimp stacer kdeconnect telegram-desktop synaptic
#sudo systemctl disable docker.socket

#pip install pywal
cargo install ttyper bat

#sudo apt purge -y --auto-remove onboard xterm cherrytree plymouth

#sudo apt install -y virt-manager 
#sudo usermod -aG libvirt bot
#sudo usermod -aG kvm bot

#git clone https://github.com/abba23/spotify-adblock.git && cd spotify-adblock && make && sudo make install
#wget 'https://discord.com/api/download?platform=linux&format=deb' -O ~/dl/discord.deb
aria2c -x9 -o vscode.deb -d ~/dl 'https://code.visualstudio.com/sha/download?build=stable&os=linux-deb-x64'
aria2c -x9 -o PacketTracer.deb -d ~/dl https://archive.org/download/packet-tracer-800-build-212-mac-notarized/PacketTracer_800_amd64_build212_final.deb
cd ~/dl && chmod +x vscode.deb PacketTracer.deb && sudo dpkg -i vscode.deb PacketTracer.deb

sudo cat <<EOF | sudo tee /etc/resolv.conf 
nameserver 1.1.1.1
nameserver 8.8.8.8
EOF

#Boost linux
#sudo systemctl enable fstrim.timer  # not for vm
GRUB_CMDLINE_LINUX="rhgb quiet mitigations=off"

#Console Font
#sudo dpkg-reconfigure console-setup

#Display asterisks while entering passwd
# /etc/sudoers add Defaults    pwfeedback

# sudo vim /etc/hosts   ( blk sites )
# sudo systemd-analyze  ( critical-chain )      
# deb https://mirrors.ocf.berkeley.edu/kali kali-rolling main contrib non-free
