#!/usr/bin/env bash

# Install xdo , xorg-xwininfo
monitor="polybar-example_HDMI-2" # change this accoroding to ur monitor
toggle=$(xrandr -q | grep ' connected' | cut -d' ' -f1)

WINDOW_STATE=$(xwininfo -name "$monitor" | grep 'Map State:' | sed -e 's/.*:\s//g')
# WINDOW_STATE=$(xwininfo -name 'polybar-example_HDMI-0' | grep 'Map State:' | sed -e 's/.*:\s//g')

if [[ "IsViewable" == "$WINDOW_STATE" ]]; then
	# echo "Hiding polybar"
	xdo hide -N Polybar
	bspc config -m $toggle top_padding 0
else
	xdo show -N Polybar
	# echo "Showing polybar"
	bspc config -m $toggle top_padding 24
fi

#run "xwininfo" tap cursor in polybar
#change window id
