#!/bin/sh

# Defining the interval
INT=1

# Saving the RX and TX bytes to $RXSTART and $TXSTART variables
RXSTART=$(cat /sys/class/net/[ew]*/statistics/rx_bytes)
TXSTART=$(cat /sys/class/net/[ew]*/statistics/tx_bytes)

# Waiting for $INT seconds
sleep $INT

# Saving the RX and TX bytes to $RXEND and $TXEND variables
RXEND=$(cat /sys/class/net/[ew]*/statistics/rx_bytes)
TXEND=$(cat /sys/class/net/[ew]*/statistics/tx_bytes)

# Calculation of the RX and TX speed in bytes per second
RXBPS="$(((RXEND - RXSTART) / INT))"
TXBPS="$(((TXEND - TXSTART) / INT))"

# Returning the results
# printf "%4sB ÔÉú %4sB\\n" "$(numfmt --to=iec "$RXBPS")" "$(numfmt --to=iec "$TXBPS")"
printf "%4sB üì° %4sB\\n" "$(numfmt --to=iec "$RXBPS")" "$(numfmt --to=iec "$TXBPS")"
# printf "%4sB üåê %4sB\\n" "$(numfmt --to=iec "$RXBPS")" "$(numfmt --to=iec "$TXBPS")"
# printf "%4sB üì∂ %4sB\\n" "$(numfmt --to=iec "$RXBPS")" "$(numfmt --to=iec "$TXBPS")"
