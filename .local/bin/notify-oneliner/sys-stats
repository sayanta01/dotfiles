#!/bin/sh

notify-send "âš™ï¸ CPU $(top -bn1 | awk '/^%Cpu/ {print $2}' | cut -c 1,2 | sed 's/\.//g')ïŠ• "
notify-send "îª¾ GPU $(nvidia-smi --query-gpu=utilization.gpu --format=csv,noheader,nounits)ïŠ• "

notify-send "î CPU-Temp $(sensors | awk '/Core 0/ {print $3}' | cut -c 2- | cut -c 1,2,5,6,7)"
notify-send "ðŸŒ¡ï¸GPU-Temp $(nvidia-smi --query-gpu=temperature.gpu --format=csv,noheader)Â°C"

notify-send "ðŸ§  RAM $(free -h | awk '/Mem:/ {print $3}' | cut -f1 -d 'i')"
notify-send "ðŸ’¾ Dsk $(df -h / | awk 'NR==2{print $4}')"
notify-send "âŒ¨ï¸ Layout $(setxkbmap -query | grep layout | awk '{print $2}' | tr "[:lower:]" "[:upper:]")"

if [ -f /etc/debian_version ]; then
	notify-send "ðŸ“¦ APT $(aptitude search '~U' | wc -l)"
elif [ -f /etc/arch-release ]; then
	notify-send "ðŸ“¦ PAC $({
		checkupdates 2>/dev/null | wc -l
		echo "| AUR"
		paru -Qum 2>/dev/null | wc -l
	} | sed ':a;N;s/\n/ /;ba')"
else
	:
fi
