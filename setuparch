#!/bin/sh


sudo ln -s /usr/share/zoneinfo/Asia/Kolkata /etc/localtime      
sudo hwclock --systohc                                          

sudo pacman -Syu && sudo pacman -Sy --noconfirm cargo && cargo install ttyper
sudo pacman -Sy --noconfirm ttf-jetbrains-mono ttf-cascadia-code noto-fonts-emoji ttf-joypixels ttf-font-awesome terminux-font \
linux-firmware linux-headers linux-lts linux-lts-headers linux-firmware \
thunar thunar-archive-plugin firefox ranger zathura lsd exa \
neovim fzf translate-shell openssh wget curl mate-calc yarn ripgrep universal-ctags nodejs  \
tree ncdu rsync unrar unzip zip p7zip tar \
dhcpcd networkmanager wireless_tools dialog cmake \
feh sxiv ffmpeg imagemagick lolcat \
cmatrix fortune-mod mpv pipewire pulseaudio pavucontrol \
speedtest-cli trash-cli yt-dlp transmission-cli axel xsel \
bpytop neofetch htop \
tor torbrowser-launcher \
intel-ucode virtualbox-guest-utils \
unclutter zsh-syntax-highlighting zsh-completions jq xdg-user-dirs xorg xclip wmctrl imwheel

sudo systemctl enable vboxservice

#
sudo pacman -Sy --noconfim nvidia nvidia-utils nvidia-settings opencl-nvidia os-prober \
scrcpy android-tools nvtop stress \
obs-studio audacity gimp kdeconnect blender discord docker \
deluge virtualbox telegram-desktop bleachbit \
bluez bluez-utils blueman ntfs-3g \
virt-manager qemu bridge-utils dnsmasq openbsd-netcat ovmf qemu-arch-extra


sudo systemctl enable --now libvirtd
#sudo vim /etc/libvirt/libvirtd.conf  #uncmnt line 81,104
#sudo usermod -aG libvirt bot
#sudo systemctl restart libvirtd
#sudo virsh net-define /etc/libvirt/qemu/networks/default.xml
#sudo virsh net-autostart default


sudo systemctl enable bluetooth
sudo systemctl enable fstrim.timer
sudo systemctl disable docker.service


git clone https://aur.archlinux.org/yay.git ~/yay && cd ~/yay && makepkg -si
yay -Syu
yay -Sy --noconfirm spotify-adblock notion-app cointop chrome-google stacer ly
sudo systemctl enable ly.service 

mkdir ~/{Desktop,Documents,Downloads,Music,Pictures,Videos} 
mkdir ~/Documents/{Python,JavaScript,C}

git clone https://github.com/NvChad/NvChad ~/.config/nvim --depth 1
nvim +'hi NormalFloat guibg=#1e222a' +PackerSync
# nvim/lua/plugins/configs/bufferline  ÔÄç

sudo cat <<EOF | sudo tee /etc/resolv.conf 
nameserver 1.1.1.1
nameserver 8.8.8.8
EOF


########## BSPWM ##########


sudo pacman -Sy --noconfirm bspwm sxhkd dmenu rofi kitty slock dunst playerctl lxappearance scrot alsa-utils dbus-python
yay -Sy --noconfirm polybar preload

cp -r ~/dotfiles/{.zshrc,.vimrc,.fonts,.xinitrc,.imwheelrc,.vim,.icons,.themes} ~/
cp -r ~/dotfiles/.config/* ~/.config
chmod +x ~/.config/bspwm/bspwmrc ~/.config/polybar/launch.sh ~/.config/scripts/* 

cd ~/.config/dmenu && sudo make clean install

sudo cp -r ~/.icons/MineKali/cursors /usr/share/icons/Adwaita 
sudo cp -r ~/.icons/MineKali /usr/share/icons
sudo cp -r ~/.themes/* /usr/share/themes


# uncmnt zsh plugins of arch
# vim /etc/pacman.conf # uncheck ignorepkg and put pkgname
